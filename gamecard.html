<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="styles.css">

<div class="container">
  <div class="section-title">æœ¬è½®é¢˜ç›®</div>
  
  <div class="card">
    <div class="question" id="questionText"></div>
    <div class="scale-label">
      (<strong>1</strong>æ˜¯æœ€<span class="green" id="negativeText"></span>ï¼Œ<strong>10</strong>æ˜¯æœ€<span class="red" id="positiveText"></span>)
    </div>
  </div>

  <div class="section-title">ä½ çš„å·ç </div>
  <div class="number-card">
    <div class="random-number" id="randomNumber">5</div>
  </div>

  <div class="bottom-bar">
    <div class="emoji">ğŸ’©</div>
    <div class="scale-container">
      <div class="scale-number">1</div>
      <div class="scale-bar">
        <img src="topten.svg" class="topten-logo" alt="TOP TEN">
      </div>
      <div class="scale-number">10</div>
    </div>
    <div class="emoji">ğŸ¦„</div>
  </div>
</div>

<script>
  window.onload = function() {
    // è·å–URLå‚æ•°
    const urlParams = new URLSearchParams(window.location.search);
    
    // è®¾ç½®é—®é¢˜å’Œæ ‡ç­¾æ–‡æœ¬
    document.getElementById('questionText').textContent = decodeURIComponent(urlParams.get('question') || 'è¯´å‡ºä¸€ä½YouTuberã€‚');
    document.getElementById('negativeText').textContent = decodeURIComponent(urlParams.get('negative') || 'åŒæ¶');
    document.getElementById('positiveText').textContent = decodeURIComponent(urlParams.get('positive') || 'å–œçˆ±');
    
    // è®¾ç½®éšæœºæ•°
    const scaleNumber = urlParams.get('scale') || Math.floor(Math.random() * 10) + 1;
    document.getElementById('randomNumber').textContent = scaleNumber;
    
    // æ ¹æ®é¢˜ç›®ç±»å‹è®¾ç½®å¡ç‰‡èƒŒæ™¯é¢œè‰²å’Œç‚¹å‡»æ•ˆæœ
    const questionType = urlParams.get('type');
    const card = document.querySelector('.card');
    const numberCard = document.querySelector('.number-card');
    
    if (questionType === 'spicy') {
      card.classList.add('spicy-card');
      numberCard.classList.add('spicy-card');
      // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œåˆ›å»ºè¾£æ¤’emoji
      card.addEventListener('click', createSpicyEmoji);
      numberCard.addEventListener('click', createSpicyEmoji);
    } else if (questionType === 'extreme') {
      card.classList.add('extreme-card');
      numberCard.classList.add('extreme-card');
      // æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œåˆ›å»ºç´«è‰²æ³¡æ³¡
      card.addEventListener('click', createPoisonBubble);
      numberCard.addEventListener('click', createPoisonBubble);
    }
  }
  
  // åˆ›å»ºè¾£æ¤’emojiçš„å‡½æ•°
  function createSpicyEmoji(event) {
    const emoji = document.createElement('div');
    emoji.textContent = 'ğŸŒ¶ï¸';
    emoji.className = 'floating-emoji';
    
    // è®¾ç½®åˆå§‹ä½ç½®ä¸ºç‚¹å‡»ä½ç½®
    emoji.style.left = (event.clientX - 10) + 'px';
    emoji.style.top = (event.clientY - 10) + 'px';
    
    document.body.appendChild(emoji);
    
    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
    emoji.addEventListener('animationend', () => {
      document.body.removeChild(emoji);
    });
  }
  
  // åˆ›å»ºç´«è‰²æ³¡æ³¡çš„å‡½æ•°
  function createPoisonBubble(event) {
    const bubble = document.createElement('div');
    bubble.className = 'poison-bubble';
    
    // è®¾ç½®åˆå§‹ä½ç½®ä¸ºç‚¹å‡»ä½ç½®
    bubble.style.left = (event.clientX - 10) + 'px';
    bubble.style.top = (event.clientY - 10) + 'px';
    
    document.body.appendChild(bubble);
    
    // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
    bubble.addEventListener('animationend', () => {
      document.body.removeChild(bubble);
    });
  }
</script> 